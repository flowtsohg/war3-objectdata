{"version":3,"file":"handler.js","sourceRoot":"","sources":["../../../../../src/viewer/handlers/mdx/handler.ts"],"names":[],"mappings":"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"}